<?xml version='1.0' encoding='utf-8'?>
<mujoco model="SimpleArm">
  <compiler angle="radian" />

  <default>
    <joint limited="true" damping="1.0" armature="0.01" />
    <geom contype="1" conaffinity="1" condim="3" friction="1.0 0.5 0.01" />
    <position ctrlrange="-1 1" kp="50" />
  </default>

  <worldbody>
    <body name="base" pos="0 0 0">
      <!-- Pedestal: raises the arm above the table surface -->
      <geom name="pedestal" type="cylinder" size="0.06 0.30"
            pos="0 0 0.30" rgba="0.3 0.3 0.3 1.0" />

      <!-- Shoulder yaw: rotates arm around vertical axis -->
      <body name="shoulder" pos="0 0 0.62">
        <inertial pos="0 0 0" mass="1.0"
                  fullinertia="0.002 0.002 0.002 0 0 0" />
        <joint name="shoulder_yaw" type="hinge" axis="0 0 1"
               range="-2.094 2.094" damping="2.0" />
        <geom name="shoulder_geom" type="sphere" size="0.04"
              rgba="0.4 0.4 0.7 1.0" />

        <!-- Shoulder pitch: tilts arm up/down -->
        <body name="upper_arm" pos="0 0 0">
          <inertial pos="0 0 -0.125" mass="2.0"
                    fullinertia="0.02 0.02 0.003 0 0 0" />
          <joint name="shoulder_pitch" type="hinge" axis="1 0 0"
                 range="-1.571 1.571" damping="2.0" />
          <geom name="upper_arm_geom" type="capsule"
                fromto="0 0 0 0 0 -0.25" size="0.025"
                rgba="0.4 0.4 0.7 1.0" />

          <!-- Elbow: bends forearm -->
          <body name="forearm" pos="0 0 -0.25">
            <inertial pos="0 0 -0.10" mass="1.0"
                      fullinertia="0.008 0.008 0.001 0 0 0" />
            <joint name="elbow" type="hinge" axis="1 0 0"
                   range="-2.356 0" damping="1.0" />
            <geom name="forearm_geom" type="capsule"
                  fromto="0 0 0 0 0 -0.20" size="0.02"
                  rgba="0.4 0.7 0.4 1.0" />

            <!-- Wrist pitch: tilts end effector -->
            <body name="wrist" pos="0 0 -0.20">
              <inertial pos="0 0 0" mass="0.3"
                        fullinertia="0.0005 0.0005 0.0005 0 0 0" />
              <joint name="wrist_pitch" type="hinge" axis="1 0 0"
                     range="-1.571 1.571" damping="0.3" />

              <!-- Wrist roll: rotates end effector -->
              <body name="wrist_roll_link" pos="0 0 0">
                <inertial pos="0 0 -0.015" mass="0.2"
                          fullinertia="0.0002 0.0002 0.0001 0 0 0" />
                <joint name="wrist_roll" type="hinge" axis="0 0 1"
                       range="-3.14159 3.14159" damping="0.2" />
                <geom name="wrist_geom" type="cylinder" size="0.018 0.015"
                      rgba="0.7 0.4 0.4 1.0" />

                <!-- Gripper base -->
                <body name="gripper_base" pos="0 0 -0.025">
                  <inertial pos="0 0 0" mass="0.1"
                            fullinertia="0.0001 0.0001 0.0001 0 0 0" />
                  <geom name="gripper_base_geom" type="box"
                        size="0.015 0.025 0.008"
                        rgba="0.3 0.3 0.3 1.0" />

                  <!-- Site at the gripper center for distance tracking -->
                  <site name="gripper_site" pos="0 0 -0.05" size="0.005" />

                  <!-- Left finger (slides outward in -Y to open) -->
                  <body name="finger_left" pos="0 -0.005 -0.008">
                    <inertial pos="0 0 -0.035" mass="0.05"
                              fullinertia="0.00002 0.00002 0.000005 0 0 0" />
                    <joint name="finger_left" type="slide" axis="0 -1 0"
                           range="0 0.025" damping="0.5" />
                    <geom name="finger_left_geom" type="box"
                          size="0.008 0.005 0.035"
                          pos="0 0 -0.035"
                          rgba="0.8 0.8 0.3 1.0" friction="2.0 1.0 0.01" />
                    <!-- Touch sensor site on inner face -->
                    <site name="finger_left_touch" pos="0 0.005 -0.035"
                          size="0.005" />
                  </body>

                  <!-- Right finger (slides outward in +Y to open) -->
                  <body name="finger_right" pos="0 0.005 -0.008">
                    <inertial pos="0 0 -0.035" mass="0.05"
                              fullinertia="0.00002 0.00002 0.000005 0 0 0" />
                    <joint name="finger_right" type="slide" axis="0 1 0"
                           range="0 0.025" damping="0.5" />
                    <geom name="finger_right_geom" type="box"
                          size="0.008 0.005 0.035"
                          pos="0 0 -0.035"
                          rgba="0.8 0.8 0.3 1.0" friction="2.0 1.0 0.01" />
                    <!-- Touch sensor site on inner face -->
                    <site name="finger_right_touch" pos="0 -0.005 -0.035"
                          size="0.005" />
                  </body>
                </body>
              </body>
            </body>
          </body>
        </body>
      </body>
    </body>
  </worldbody>

  <!-- Couple the two fingers so one actuator controls both -->
  <equality>
    <joint joint1="finger_left" joint2="finger_right"
           polycoef="0 1 0 0 0" />
  </equality>

  <contact>
    <!-- Exclude adjacent body pairs from self-collision -->
    <exclude body1="base" body2="shoulder" />
    <exclude body1="shoulder" body2="upper_arm" />
    <exclude body1="upper_arm" body2="forearm" />
    <exclude body1="forearm" body2="wrist" />
    <exclude body1="wrist" body2="wrist_roll_link" />
    <exclude body1="wrist_roll_link" body2="gripper_base" />
    <exclude body1="gripper_base" body2="finger_left" />
    <exclude body1="gripper_base" body2="finger_right" />
  </contact>

  <actuator>
    <!-- 5-DOF arm joints (position control) -->
    <position name="shoulder_yaw_motor" joint="shoulder_yaw" kp="50" />
    <position name="shoulder_pitch_motor" joint="shoulder_pitch" kp="50" />
    <position name="elbow_motor" joint="elbow" kp="30" />
    <position name="wrist_pitch_motor" joint="wrist_pitch" kp="10" />
    <position name="wrist_roll_motor" joint="wrist_roll" kp="10" />
    <!-- Gripper (coupled: controls both fingers via equality constraint) -->
    <position name="gripper_motor" joint="finger_left" kp="20" />
  </actuator>

  <sensor>
    <!-- Joint position sensors (5 arm + 1 gripper) -->
    <jointpos name="shoulder_yaw_pos" joint="shoulder_yaw" />
    <jointpos name="shoulder_pitch_pos" joint="shoulder_pitch" />
    <jointpos name="elbow_pos" joint="elbow" />
    <jointpos name="wrist_pitch_pos" joint="wrist_pitch" />
    <jointpos name="wrist_roll_pos" joint="wrist_roll" />
    <jointpos name="finger_pos" joint="finger_left" />
    <!-- Joint velocity sensors (5 arm + 1 gripper) -->
    <jointvel name="shoulder_yaw_vel" joint="shoulder_yaw" />
    <jointvel name="shoulder_pitch_vel" joint="shoulder_pitch" />
    <jointvel name="elbow_vel" joint="elbow" />
    <jointvel name="wrist_pitch_vel" joint="wrist_pitch" />
    <jointvel name="wrist_roll_vel" joint="wrist_roll" />
    <jointvel name="finger_vel" joint="finger_left" />
    <!-- Fingertip touch sensors -->
    <touch name="finger_left_touch" site="finger_left_touch" />
    <touch name="finger_right_touch" site="finger_right_touch" />
  </sensor>
</mujoco>
